# Node.jsエコシステムを体験しよう

## package.json

scriptに記載する例

```jsoon
start / serve: パッケージがウェブアプリケーションを含む場合はこれを起動

test: テストを実行

lint: コードの品質チェックを行う

build: ビルドが必要なライブラリではビルドを実行して配布できるようにする
```

ビルドツールや処理系、テスティングフレームワークなどは、プロジェクトによって千差万別ですが、この scripts セクションを読むと、どのようにソースコードを処理したり、テストしたりしているかがわかります。これは、プロジェクトのコードを読むための強い武器になります。

また、このコマンド実行まではWindowsだろうが、Linuxだろうが、macOSだろうが、どれでもポータブルに動作します。Node.jsとnpmコマンドさえあれば、開発機（Windows、macOS）、CIサーバー（Linux）、本番環境（Linux）で動作します。もちろん、中で動作させるプログラムに、Node.js以外のOSのコマンドを書くとそこのポータビリティは下がります。

## TypeScriptの環境設定

TypeScriptを使うには、いくつか設定が必要です。JavaScript系のツールのビルドは大きく分けて、2つのフェーズがあります。

コンパイル: TypeScriptや最新のJavaScript文法で書かれたコードを、実行環境にあわせたJavaScriptに変換

バンドル: ソースコードは通常、整理しやすいクラスごと、コンポーネントごとといった単位で分けて記述します。配布時には1ファイルにまとめてダウンロードの高速化、無駄な使われてないコードの排除が行われます。

前者のツールとしては、TypeScriptやBabelを使います。後者は、webpack、Browserify、Rollup、Parcelなどがあります。ただし、後者は大規模なアプリケーションでなければ必要ありません。

何も設定せずとも、TypeScriptのコンパイルは可能ですが、入力フォルダを設定したい、出力形式を調整したい、いくつかのデフォルトでオフになっている新しい機能を使いたいなどの場合は設定ファイル tsconfig.json を作成します。 このファイルの雛形はTypeScriptの処理系を使って生成できます。

```shell
npx tsc --init
```

あとはこのJSONファイルを編集すれば、コンパイラの動作を調整できます。 TypeScriptをNode.jsで実行するだけであれば細かい設定は不要です。
